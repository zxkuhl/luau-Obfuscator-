<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lua Obfuscator - Script Protection</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
        color: #e0e0e0;
        min-height: 100vh;
        padding: 20px;
    }

    .container {
        max-width: 1600px;
        margin: 0 auto;
    }

    .header {
        text-align: center;
        padding: 50px 20px;
        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #d946ef 100%);
        border-radius: 20px;
        margin-bottom: 30px;
        box-shadow: 0 10px 40px rgba(99, 102, 241, 0.4);
        position: relative;
        overflow: hidden;
    }

    .header::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        animation: pulse 8s ease-in-out infinite;
    }

    @keyframes pulse {
        0%, 100% { transform: scale(1) translate(0, 0); }
        50% { transform: scale(1.1) translate(5%, 5%); }
    }

    .header h1 {
        font-size: 3.5em;
        margin-bottom: 15px;
        background: linear-gradient(135deg, #fff 0%, #e0e7ff 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        position: relative;
        z-index: 1;
        font-weight: 800;
        letter-spacing: -1px;
    }

    .header p {
        font-size: 1.3em;
        opacity: 0.95;
        position: relative;
        z-index: 1;
        color: #fff;
    }

    .settings-panel {
        background: linear-gradient(135deg, #151932 0%, #1a1f3a 100%);
        border-radius: 16px;
        padding: 30px;
        margin-bottom: 25px;
        border: 1px solid #2d3561;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .settings-panel h3 {
        color: #8b5cf6;
        margin-bottom: 25px;
        font-size: 1.4em;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .settings-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 15px;
    }

    .setting-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 14px 16px;
        background: linear-gradient(135deg, #1a1f3a 0%, #1e2347 100%);
        border-radius: 10px;
        border: 2px solid #252b4a;
        transition: all 0.3s ease;
        cursor: pointer;
    }

    .setting-item:hover {
        border-color: #6366f1;
        background: linear-gradient(135deg, #1e2347 0%, #252b4a 100%);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
    }

    .setting-item input[type="checkbox"] {
        width: 22px;
        height: 22px;
        cursor: pointer;
        accent-color: #8b5cf6;
    }

    .setting-item label {
        cursor: pointer;
        user-select: none;
        flex: 1;
        font-size: 1.05em;
        font-weight: 500;
    }

    .editor-section {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 25px;
        margin-bottom: 25px;
    }

    .editor-container {
        background: linear-gradient(135deg, #151932 0%, #1a1f3a 100%);
        border-radius: 16px;
        overflow: hidden;
        border: 2px solid #2d3561;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
        transition: all 0.3s ease;
    }

    .editor-container:hover {
        border-color: #6366f1;
        box-shadow: 0 10px 40px rgba(99, 102, 241, 0.3);
    }

    .editor-header {
        background: linear-gradient(135deg, #1a1f3a 0%, #252b4a 100%);
        padding: 18px 24px;
        border-bottom: 2px solid #2d3561;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .editor-header h3 {
        color: #8b5cf6;
        font-size: 1.2em;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .editor-stats {
        font-size: 0.95em;
        color: #9ca3af;
        background: #0d1117;
        padding: 6px 12px;
        border-radius: 6px;
        font-weight: 600;
    }

    textarea {
        width: 100%;
        height: 550px;
        padding: 24px;
        background: #0d1117;
        color: #e0e0e0;
        border: none;
        font-family: 'Fira Code', 'Consolas', 'Monaco', monospace;
        font-size: 14px;
        resize: vertical;
        line-height: 1.7;
    }

    textarea:focus {
        outline: none;
        background: #0a0d12;
    }

    textarea::placeholder {
        color: #4a5568;
    }

    textarea::-webkit-scrollbar {
        width: 12px;
    }

    textarea::-webkit-scrollbar-track {
        background: #151932;
    }

    textarea::-webkit-scrollbar-thumb {
        background: #6366f1;
        border-radius: 6px;
    }

    textarea::-webkit-scrollbar-thumb:hover {
        background: #8b5cf6;
    }

    .controls {
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
        justify-content: center;
        margin-bottom: 30px;
    }

    button {
        padding: 16px 38px;
        font-size: 17px;
        font-weight: 700;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-family: inherit;
        letter-spacing: 0.3px;
    }

    .btn-primary {
        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        color: white;
        box-shadow: 0 6px 20px rgba(99, 102, 241, 0.5);
    }

    .btn-primary:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 30px rgba(99, 102, 241, 0.7);
        background: linear-gradient(135deg, #8b5cf6 0%, #d946ef 100%);
    }

    .btn-primary:active {
        transform: translateY(-1px);
    }

    .btn-secondary {
        background: linear-gradient(135deg, #1a1f3a 0%, #252b4a 100%);
        color: #e0e0e0;
        border: 2px solid #2d3561;
    }

    .btn-secondary:hover {
        background: linear-gradient(135deg, #252b4a 0%, #2d3561 100%);
        border-color: #6366f1;
        transform: translateY(-2px);
    }

    .btn-copy {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
        padding: 10px 20px;
        font-size: 15px;
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
    }

    .btn-copy:hover {
        background: linear-gradient(135deg, #059669 0%, #047857 100%);
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(16, 185, 129, 0.5);
    }

    .info-box {
        background: linear-gradient(135deg, #1a1f3a 0%, #1e2347 100%);
        border-left: 5px solid #6366f1;
        padding: 24px;
        border-radius: 12px;
        margin-bottom: 25px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .info-box h4 {
        color: #8b5cf6;
        margin-bottom: 12px;
        font-size: 1.3em;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .info-box p {
        line-height: 1.7;
        color: #cbd5e1;
        font-size: 1.05em;
    }

    .warning {
        background: linear-gradient(135deg, #3f1f1f 0%, #4a2020 100%);
        border-left-color: #ef4444;
    }

    .warning h4 {
        color: #f87171;
    }

    @media (max-width: 1200px) {
        .editor-section {
            grid-template-columns: 1fr;
        }
    }

    @media (max-width: 768px) {
        .header h1 {
            font-size: 2.5em;
        }

        .settings-grid {
            grid-template-columns: 1fr;
        }
    }

    .feature-badge {
        display: inline-block;
        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        color: white;
        padding: 5px 14px;
        border-radius: 16px;
        font-size: 0.85em;
        margin-left: 10px;
        font-weight: 700;
    }

    /* Loading animation */
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .loading {
        display: inline-block;
        width: 16px;
        height: 16px;
        border: 3px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        border-top-color: white;
        animation: spin 0.8s linear infinite;
        margin-left: 8px;
    }
</style>
```

</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîí Lua Script Obfuscator</h1>
            <p>Protect your Lua/Luau scripts with advanced obfuscation techniques</p>
        </div>

```
    <div class="info-box">
        <h4>‚ö° How It Works</h4>
        <p>This tool obfuscates your Lua/Luau scripts by applying multiple transformation techniques including variable renaming, string encoding, control flow obfuscation, and more. The output remains fully executable while being extremely difficult to read and reverse engineer. <strong>Note:</strong> If the obfuscated code gives an error, try disabling Anti-Tamper Protection.</p>
    </div>

    <div class="settings-panel">
        <h3>üõ†Ô∏è Obfuscation Settings</h3>
        <div class="settings-grid">
            <div class="setting-item">
                <input type="checkbox" id="renameVars" checked>
                <label for="renameVars">Rename Variables</label>
            </div>
            <div class="setting-item">
                <input type="checkbox" id="encodeStrings" checked>
                <label for="encodeStrings">Encode Strings</label>
            </div>
            <div class="setting-item">
                <input type="checkbox" id="obfuscateNumbers" checked>
                <label for="obfuscateNumbers">Obfuscate Numbers</label>
            </div>
            <div class="setting-item">
                <input type="checkbox" id="controlFlow" checked>
                <label for="controlFlow">Control Flow Obfuscation</label>
            </div>
            <div class="setting-item">
                <input type="checkbox" id="removeComments" checked>
                <label for="removeComments">Remove Comments</label>
            </div>
            <div class="setting-item">
                <input type="checkbox" id="removeWhitespace" checked>
                <label for="removeWhitespace">Minify Code</label>
            </div>
            <div class="setting-item">
                <input type="checkbox" id="antiTamper">
                <label for="antiTamper">Anti-Tamper Protection</label>
            </div>
            <div class="setting-item">
                <input type="checkbox" id="constantWrapping">
                <label for="constantWrapping">Constant Wrapping</label>
            </div>
        </div>
    </div>

    <div class="editor-section">
        <div class="editor-container">
            <div class="editor-header">
                <h3>üìù Source Code</h3>
                <span class="editor-stats" id="sourceStats">0 lines</span>
            </div>
            <textarea id="sourceCode" placeholder="-- Paste your Lua/Luau code here
```

local function myFunction()
print(‚ÄòHello World!‚Äô)
end

myFunction()‚Äù>‚Äì Sample Lua Script
local function calculateSum(a, b)
local result = a + b
print(‚ÄúThe sum is: ‚Äú .. result)
return result
end

local x = 10
local y = 20
local total = calculateSum(x, y)

if total > 25 then
print(‚ÄúResult is greater than 25‚Äù)
else
print(‚ÄúResult is 25 or less‚Äù)
end</textarea>
</div>

```
        <div class="editor-container">
            <div class="editor-header">
                <h3>üîê Obfuscated Output</h3>
                <button class="btn-copy" onclick="copyOutput()">Copy Code</button>
            </div>
            <textarea id="outputCode" readonly placeholder="Your obfuscated code will appear here..."></textarea>
        </div>
    </div>

    <div class="controls">
        <button class="btn-primary" onclick="obfuscateCode()">üöÄ Obfuscate Script</button>
        <button class="btn-secondary" onclick="clearAll()">üóëÔ∏è Clear All</button>
        <button class="btn-secondary" onclick="loadExample()">üìã Load Example</button>
    </div>

    <div class="info-box warning">
        <h4>‚ö†Ô∏è Important Notes</h4>
        <p><strong>Educational Purpose:</strong> This tool is for learning and protecting your own code. The obfuscated output is still executable Lua code. Always test your obfuscated scripts before deployment. Some executors may have anti-obfuscation measures.</p>
    </div>
</div>

<script>
    function generateRandomName() {
        const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
        const prefixes = ['l', 'll', 'lll', 'I', 'II', 'III'];
        const prefix = prefixes[Math.floor(Math.random() * prefixes.length)];
        let name = prefix;
        for (let i = 0; i < Math.floor(Math.random() * 3) + 2; i++) {
            name += chars[Math.floor(Math.random() * chars.length)];
        }
        return name;
    }

    function encodeString(str) {
        // Convert string to byte array representation
        let bytes = [];
        for (let i = 0; i < str.length; i++) {
            bytes.push(str.charCodeAt(i));
        }
        return `(function() local t={${bytes.join(',')}} local s='' for i=1,#t do s=s..string.char(t[i]) end return s end)()`;
    }

    function obfuscateNumber(num) {
        const ops = [
            () => `(${num + 1}-1)`,
            () => `(${num - 1}+1)`,
            () => `(${num * 2}/2)`,
            () => `(${num}+0)`,
            () => `(0+${num})`
        ];
        return ops[Math.floor(Math.random() * ops.length)]();
    }

    function obfuscateCode() {
        const sourceCode = document.getElementById('sourceCode').value;
        
        if (!sourceCode.trim()) {
            alert('Please enter some code to obfuscate!');
            return;
        }

        const settings = {
            renameVars: document.getElementById('renameVars').checked,
            encodeStrings: document.getElementById('encodeStrings').checked,
            obfuscateNumbers: document.getElementById('obfuscateNumbers').checked,
            controlFlow: document.getElementById('controlFlow').checked,
            removeComments: document.getElementById('removeComments').checked,
            removeWhitespace: document.getElementById('removeWhitespace').checked,
            antiTamper: document.getElementById('antiTamper').checked,
            constantWrapping: document.getElementById('constantWrapping').checked
        };

        let obfuscated = sourceCode;

        // Remove comments
        if (settings.removeComments) {
            obfuscated = obfuscated.replace(/--.*$/gm, '');
            obfuscated = obfuscated.replace(/--\[\[[\s\S]*?\]\]/g, '');
        }

        // Encode strings
        if (settings.encodeStrings) {
            obfuscated = obfuscated.replace(/"([^"]*)"/g, (match, str) => {
                return encodeString(str);
            });
            obfuscated = obfuscated.replace(/'([^']*)'/g, (match, str) => {
                return encodeString(str);
            });
        }

        // Obfuscate numbers
        if (settings.obfuscateNumbers) {
            obfuscated = obfuscated.replace(/\b(\d+)\b/g, (match, num) => {
                if (parseInt(num) < 100) {
                    return obfuscateNumber(parseInt(num));
                }
                return match;
            });
        }

        // Rename variables (simple version)
        if (settings.renameVars) {
            const varMap = {};
            const localVarRegex = /local\s+([a-zA-Z_][a-zA-Z0-9_]*)/g;
            let match;
            
            while ((match = localVarRegex.exec(sourceCode)) !== null) {
                const varName = match[1];
                if (!varMap[varName] && !['print', 'if', 'then', 'else', 'end', 'function', 'return'].includes(varName)) {
                    varMap[varName] = generateRandomName();
                }
            }

            for (const [original, obfuscatedName] of Object.entries(varMap)) {
                const regex = new RegExp(`\\b${original}\\b`, 'g');
                obfuscated = obfuscated.replace(regex, obfuscatedName);
            }
        }

        // Add anti-tamper wrapper
        if (settings.antiTamper) {
            obfuscated = `-- Protected by Lua Obfuscator
```

local _ENV = _ENV or getfenv()
local function _()
${obfuscated}
end
return _()`;
}

```
        // Wrap in execution environment - FIXED: Changed ** to __
        if (settings.controlFlow) {
            obfuscated = `(function()
local __SCRIPT__ = function()
```

${obfuscated.split(‚Äô\n‚Äô).map(line => ‚Äô        ‚Äô + line).join(‚Äô\n‚Äô)}
end
return **SCRIPT**()
end)()`;
}

```
        // Minify
        if (settings.removeWhitespace) {
            obfuscated = obfuscated
                .split('\n')
                .map(line => line.trim())
                .filter(line => line.length > 0)
                .join(' ');
        }

        document.getElementById('outputCode').value = obfuscated;
    }

    function copyOutput() {
        const output = document.getElementById('outputCode');
        if (!output.value) {
            alert('No obfuscated code to copy! Obfuscate your script first.');
            return;
        }
        output.select();
        document.execCommand('copy');
        
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = 'linear-gradient(135deg, #059669 0%, #047857 100%)';
        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '';
        }, 2000);
    }

    function clearAll() {
        if (confirm('Are you sure you want to clear all content?')) {
            document.getElementById('sourceCode').value = '';
            document.getElementById('outputCode').value = '';
            document.getElementById('sourceStats').textContent = '0 lines';
        }
    }

    function loadExample() {
        const example = `-- Advanced Example Script
```

local players = {}

local function addPlayer(name, score)
table.insert(players, {
playerName = name,
playerScore = score,
timestamp = os.time()
})
print(‚ÄúPlayer added: ‚Äú .. name)
end

local function getTopPlayer()
if #players == 0 then
return nil
end

```
local topPlayer = players[1]
for i = 2, #players do
    if players[i].playerScore > topPlayer.playerScore then
        topPlayer = players[i]
    end
end

return topPlayer
```

end

‚Äì Add some players
addPlayer(‚ÄúAlice‚Äù, 150)
addPlayer(‚ÄúBob‚Äù, 200)
addPlayer(‚ÄúCharlie‚Äù, 175)

‚Äì Get winner
local winner = getTopPlayer()
if winner then
print(‚ÄúTop player is ‚Äú .. winner.playerName .. ‚Äú with ‚Äú .. winner.playerScore .. ‚Äú points!‚Äù)
end`;

```
        document.getElementById('sourceCode').value = example;
        const lines = example.split('\n').length;
        document.getElementById('sourceStats').textContent = lines + ' lines';
    }

    // Update line count
    document.getElementById('sourceCode').addEventListener('input', function() {
        const lines = this.value.split('\n').length;
        document.getElementById('sourceStats').textContent = lines + ' lines';
    });

    // Initialize
    window.onload = function() {
        const lines = document.getElementById('sourceCode').value.split('\n').length;
        document.getElementById('sourceStats').textContent = lines + ' lines';
    };
</script>
```

</body>
</html>
